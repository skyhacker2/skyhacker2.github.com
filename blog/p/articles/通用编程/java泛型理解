# java泛型理解

泛型程序设计的机制和演变

## 为什么有泛型

类型安全, 例如ArrayList和ArrayList<String>，避免可以添加任意类型的对象到ArrayList中。使用泛型，如果插入错误类型的对象，编译器就好报错。使代码有更好的可读性和安全性。

使用类似ArrayList这样的泛型类很容易。我们考虑的是怎样设计一个泛型类。

## 类型擦除
1. 虚拟机没有泛型，只有普通类和方法
2. 所有类型参数都使用限定类型替换
3. 桥方法被合成用来保持多态

## 约束和局限性
1. 不能使用基本类型，原因就是类型擦除后，只剩下Object类型。
2. 运行时类型查询只有原始类型。所有没法用instanceof
3. 不能创建数组
4. Varargs警告
5. 不能实例化，不能new
6. 不能构造泛型数组


## 协变、逆变和不变

## 应用
1. gson
2. rxjava
